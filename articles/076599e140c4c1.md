---
title: "ã€Œ3D-CGãƒ—ãƒ­ã‚°ãƒ©ãƒžãƒ¼ã®ãŸã‚ã®ã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³å…¥é–€ã€ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®å‹•ã‹ã—æ–¹ï¼ˆWindows11 + VS 2022ï¼‰"
emoji: "ðŸ’¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³", "VisualStudio", "3DCG",  "C"]
published: true
---

# ã¯ã˜ã‚ã«

æ›¸ç±ã€Œ[3D-CGãƒ—ãƒ­ã‚°ãƒ©ãƒžãƒ¼ã®ãŸã‚ã®ã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³å…¥é–€](http://www.kohgakusha.co.jp/books/detail/978-4-7775-2222-4)ã€ã«ã¯GLUTã‚’ä½¿ç”¨ã—ãŸ3DCGã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ãŸã ã—ã€GLUTã®é–‹ç™ºãŒæ­¢ã¾ã£ã¦ãŠã‚Šã€è‡ªåˆ†ã§freeglutã®ãƒ“ãƒ«ãƒ‰ã‚’ã—ãªã„ã¨ã„ã‘ãªã„ç­‰ã®å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã“ã§ã€ã“ã®è¨˜äº‹ã§ã¯ãã‚Œã‚‰ã®æ‰‹é †ã‚’è¨˜éŒ²ã¨ã—ã¦æ®‹ã—ã¾ã™ã€‚Windows11 + Visual Studio 2022ç’°å¢ƒã‚’å¯¾è±¡ã¨ã—ã¾ã™ã€‚

# Visual Studio 2022ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§ã€ŒVisual Studioã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€Visual Studio 2022ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚å€‹äººåˆ©ç”¨ã§ã‚ã‚Œã°Communityã§è‰¯ã„ã‹ã¨æ€ã„ã¾ã™ã€‚

https://visualstudio.microsoft.com/ja/

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¾Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ãŒã€C++ç’°å¢ƒã‚‚å¿˜ã‚Œãšã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚


# freeglutã®ãƒ“ãƒ«ãƒ‰

GLUTã¯OpenGLã®ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã§ã™ãŒã€[é•·ã‚‰ãé–‹ç™ºã•ã‚Œã¦ã„ãªã„](https://www.opengl.org/resources/libraries/glut/)ã‚ˆã†ã§ã™ã€‚ã‹ã‚ã‚Šã«[freeglut](https://github.com/FreeGLUTProject/freeglut)ãŒç¶™ç¶šçš„ã«é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã®ã§ãã¡ã‚‰ã‚’ä½¿ã„ã¾ã™ã€‚

## freeglutã®å…¥æ‰‹

2023å¹´06æœˆ10æ—¥æ™‚ç‚¹ã§æœ€æ–°ç‰ˆã¯[v3.4.0](https://github.com/FreeGLUTProject/freeglut/releases/tag/v3.4.0)ãªã®ã§ã€[freeglut-3.4.0.tar.gz](https://github.com/FreeGLUTProject/freeglut/releases/download/v3.4.0/freeglut-3.4.0.tar.gz)ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€å±•é–‹ã—ã¾ã™ã€‚CMakeã®ãƒ“ãƒ«ãƒ‰ç”Ÿæˆç‰©ã‚’ç½®ããŸã‚ã€`freegult-3.4.0`ãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«`build`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚

## CMake

freeglutã®ãƒ“ãƒ«ãƒ‰ã«CMakeã‚’ä½¿ç”¨ã™ã‚‹ã®ã§[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://cmake.org/download/)ã—ã¾ã™ã€‚zipã‚’å±•é–‹ã™ã‚‹ã¨ã„ãã¤ã‹ãƒ•ã‚©ãƒ«ãƒ€ãŒè¦‹ãˆã¾ã™ãŒã€`bin`ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸‹ã«`cmake-gui.exe`ãŒã‚ã‚‹ã®ã§ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚"Where is the source code:"ã«freeglutãƒ•ã‚©ãƒ«ãƒ€ã€"Where to build the binaries:"ã«å…ˆã»ã©ä½œæˆã—ãŸ`build`ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¾ã™ã€‚

![cmake 1](/images/articles/076599e140c4c1/cmake1.png)

"Configure"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ä»¥ä¸‹ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’é¸ã‚“ã§"Finish"ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ç§ã¯Visual Studio2022ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ãŸã‚ã€ãã‚Œã‚’é¸æŠžã—ã¦ã„ã¾ã™ã€‚

![cmake 2](/images/articles/076599e140c4c1/cmake2.png)

æ¬¡ã«"Generate"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã§`build`ãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«`freeglut.sln`ãŒä½œæˆã•ã‚Œã¦ãŠã‚Šã€ãƒ“ãƒ«ãƒ‰ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚

![cmake 3](/images/articles/076599e140c4c1/cmake3.png)


## Visual Studio 2022ã§ãƒ“ãƒ«ãƒ‰

Cmakeã§"Open Project"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨Visual Studio 2022ãŒèµ·å‹•ã—ã€ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒé–‹ã‹ã‚Œã¾ã™ï¼ˆ`freegult.sln`ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚OKã§ã™ï¼‰ã€‚Visual Studioã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã€ŒBuiildã€->ã€ŒBuild Solutionã€ã‚’é¸æŠžã—ã¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚ã¾ãŸã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä»¥ä¸‹ã®ç”»åƒã®ã‚ˆã†ã«Debugãƒ“ãƒ«ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ãŒã€Releaseã‚’é¸æŠžã—ã€Releaseãƒ“ãƒ«ãƒ‰ã‚‚å®Ÿæ–½ã—ã¾ã™ã€‚

![vs 1](/images/articles/076599e140c4c1/vs1.png)

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦ã„ãŸã‚‰OKã§ã™ã€‚

- freeglut-3.4.0/build/bin/Debug/freeglutd.dll
- freeglut-3.4.0/build/bin/Release/freeglut.dll
- freeglut-3.4.0/build/lib/Debug/freeglutd.lib
- freeglut-3.4.0/build/lib/Release/freeglut.lib

freeglutã®ãƒ“ãƒ«ãƒ‰æ–¹æ³•ã¯ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚

https://corgi-lab.com/windows/opengl-programming/


# ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚å››è¨‚ç‰ˆãŒè¦‹å½“ãŸã‚‰ãªã„ã®ã§ä¸‰è¨‚ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

http://www.kohgakusha.co.jp/support/3dquotv3/index.html

å±•é–‹ã™ã‚‹ã¨`quatsample.exe`ãŒã‚ã‚Šã€ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å®Ÿè¡Œã§ãã¾ã™ã€‚

![sample.exe](/images/articles/076599e140c4c1/sample_exe.png)


# ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ“ãƒ«ãƒ‰

ãã‚Œã§ã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œã™ã‚‹ç’°å¢ƒã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚

## ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æº–å‚™
Visual Studio 2022ã‚’èµ·å‹•ã—ã€ã€ŒCreate a new projectã€ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚ã€ŒC++ã€ã€ŒEmpty Projectã€ã‚’é¸æŠžã€ã€ŒNextã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![vs 2](/images/articles/076599e140c4c1/vs2.png)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåç­‰ã€é©å®œå…¥åŠ›ã—ã¦ã€ŒCreateã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![vs 3](/images/articles/076599e140c4c1/vs3.png)

ã“ã“ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æœ¬æ¥ã¯ã‚³ãƒ”ãƒ¼ã—ãªãã¦ã‚‚è‰¯ã„ã®ã§ã™ãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜å ´æ‰€ã«ã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹æ–¹ãŒã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚

- quat.h
- quat.c
- quatsample.c

ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°OKã§ã™ã€‚

![vs 4](/images/articles/076599e140c4c1/vs4.png)

Visual Studioã«æˆ»ã‚Šã€ã€ŒSolution Explorerã€ã®ã€ŒHeader Filesã€ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã€ŒAddã€ã€ŒExisiing item...ã€ã¨é¸æŠžã—ã€é–‹ã„ãŸãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§å…ˆç¨‹ã‚³ãƒ”ãƒ¼ã—ã¦ããŸã€Œquat.hã€ã‚’é¸æŠžã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã«ã€ŒHeader Filesã€ã®ä¸‹ã«`quat.h`ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

![vs 5](/images/articles/076599e140c4c1/vs5.png)

æ¬¡ã«ã€ŒSouce Filesã€ã«å¯¾ã—ã¦åŒæ§˜ã«`quat.c`ã€`quatsample.c`ã‚’è¿½åŠ ã—ã¾ã™ã€‚æœ€çµ‚çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![vs 6](/images/articles/076599e140c4c1/vs6.png)

## ãƒ“ãƒ«ãƒ‰ã®æº–å‚™ãŠã‚ˆã³ãƒ“ãƒ«ãƒ‰

ã“ã®ã¾ã¾ã§ã¯Visual StudioãŒfreeglutã®ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’çŸ¥ã‚‰ãªã„ãŸã‚ãƒ“ãƒ«ãƒ‰ã«å¤±æ•—ã—ã¾ã™ã€‚ãã“ã§ã“ã‚Œã‚‰ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

ã€ŒSolution Explorerã€ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã“ã®ä¾‹ã§ã¯QuestionSampleï¼‰ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€ã€ŒPropertiesã€ã‚’é¸æŠžã—ã¾ã™ã€‚

![vs 7](/images/articles/076599e140c4c1/vs7.png)

ã¾ãšã€ã€ŒC/C++ã€ã€ŒGeneralã€ã¨é–‹ãã€ã€ŒAdditional Include Directoriesã€ã«freeglutã®ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ãŒãŠã„ã¦ã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¾ã™ã€‚ç§ã®å ´åˆã¯`D:\sources\freeglut-3.4.0\include`ã¨è¨­å®šã—ã¦ã„ã¾ã™ã€‚

![vs 8](/images/articles/076599e140c4c1/vs8.png)

æ¬¡ã«ã€ŒLinkerã€ã€ŒGeneralã€ã¨é–‹ãã€ã€ŒAdditional Library Directoriesã€ã«freeglutã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ãŒãŠã„ã¦ã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¾ã™ã€‚ç§ã®å ´åˆã¯`D:\sources\freeglut-3.4.0\build\lib\Debug`ã¨è¨­å®šã—ã¦ã„ã¾ã™ã€‚

![vs 9](/images/articles/076599e140c4c1/vs9.png)

æ¬¡ã«ã€ŒDebuggingã€ã‚’é–‹ãã€ã€ŒEnvironmentã€ã«freeglutã®DLLãŒãŠã„ã¦ã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¾ã™ã€‚ç§ã®å ´åˆã¯`PATH=%PATH%;D:\sources\freeglut-3.4.0\build\bin\Debug
$(LocalDebuggerEnvironment)`ã¨è¨­å®šã—ã¦ã„ã¾ã™ã€‚ã“ã®è¨­å®šã¯å®Ÿè¡Œæ™‚ã«DLLã‚’æ¤œç´¢ã™ã‚‹ãƒ‘ã‚¹ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚é¢å€’ãªå ´åˆã¯ãƒ“ãƒ«ãƒ‰æ¸ˆã¿å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«`freeglutd.dll`ã¾ãŸã¯`freeglut.dll`ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã¦ã‚‚å®Ÿè¡Œã§ãã¾ã™ã€‚

![vs 10](/images/articles/076599e140c4c1/vs10.png)

ä»¥ä¸Šã®è¨­å®šã¯Debugãƒ“ãƒ«ãƒ‰ç”¨ã®è¨­å®šã§ã™ã€‚Releaseãƒ“ãƒ«ãƒ‰ç”¨ã«ã¯ã€ŒConfigurationã€ã‚’ã€ŒReleaseã€ã«å¤‰æ›´ã—ã€åŒã˜è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚ãŸã ã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€DLLã«é–¢ã—ã¦ã¯ãƒ‘ã‚¹ãŒç•°ãªã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚



ã€ŒBuiildã€->ã€ŒBuild Solutionã€ã‚’é¸æŠžã—ã¦ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚Debug/Releaseã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## å®Ÿè¡Œ
ã•ã¦ã€ã“ã®çŠ¶æ…‹ã§å®Ÿè¡Œãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚µãƒ³ãƒ—ãƒ«ä»˜å±žã®`sample.exe`ã¨åŒã˜ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒèµ·å‹•ã—ã¾ã™ã€‚è©¦ã—ã«å°‘ã—å¤‰æ›´ã‚’åŠ ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ãŸã¨ãˆã°ã€30è¡Œç›®ã®è‰²è¨­å®š

```c
static const GLfloat blue[]  = { 0.0, 0.0, 1.0, 1.0 };
```

ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã¿ã¾ã™ã€‚

```c
static const GLfloat blue[]  = { 1.0, 0.0, 0.0, 1.0 };
```

å®Ÿè¡Œã™ã‚‹ã¨æ­£20é¢ä½“ã®å·¦ãƒ»ä¸‹ã«å­˜åœ¨ã™ã‚‹æ¿ã®è‰²ãŒèµ¤è‰²ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

![result](/images/articles/076599e140c4c1/result.png)

ã“ã‚Œã§å¥½ãã«ã‚³ãƒ¼ãƒ‰ã‚’ã„ã˜ã£ã¦è‰²ã€…å®Ÿé¨“ã§ãã¾ã™ã­ï¼


# æœ¬ã®æ„Ÿæƒ³

äºŒæ¬¡å…ƒã®ãƒ™ã‚¯ãƒˆãƒ«ã®XYåº§æ¨™è¡¨ç¾ã‹ã‚‰è¤‡ç´ æ•°ã¸ã¨åŸºåº•ã‚’å¤‰æ›ã™ã‚‹ã®ã¨åŒã˜ã‚ˆã†ã«ã€ä¸‰æ¬¡å…ƒã®ãƒ™ã‚¯ãƒˆãƒ«ã‚’è¤‡ç´ è¡Œåˆ—ã®åŸºåº•ã«å¤‰æ›ã—ãŸã‚‚ã®ãŒã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³ã§ã‚ã‚‹ã¨ã„ã†æµã‚Œã®è§£èª¬ãŒéžå¸¸ã«ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™ã€‚ãŸã ã—ã€ã‚µãƒ©ãƒƒã¨èª­ã‚“ã§åˆ†ã‹ã£ãŸã¤ã‚‚ã‚Šã«ãªã£ã¦ã‚‚å®Ÿéš›ã«ã¯æ·±ãç†è§£ã§ãã¦ã„ãªã„ã®ã§ã€ã‚ã¨ä½•å›žã‹ã—ã£ã‹ã‚Šèª­ã¿è¾¼ã‚“ã§ã„ããŸã„ã§ã™ã€‚

ãŸã¨ãˆã°ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãŒã©ã“ã‹ã‚‰å‡ºã¦ããŸã®ã‹åˆ†ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€èª­ã¿è¿”ã—ã¦ã¿ã‚‹ã¨132ãƒšãƒ¼ã‚¸ã®`T`ã§ã—ãŸã€‚

```c
/* ã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³ã‹ã‚‰å›žè»¢è¡Œåˆ—ã‚’ä½œã‚‹ */
static void create_rotation_matrix(GLfloat m[4][4],
	const quat *q)
{
	m[0][0] = 1.0 - 2.0 * (q->y * q->y + q->z * q->z);
	m[0][1] =       2.0 * (q->x * q->y - q->z * q->w);
	m[0][2] =       2.0 * (q->z * q->x + q->w * q->y);
	m[0][3] = 0.0;
	m[1][0] =       2.0 * (q->x * q->y + q->z * q->w);
	m[1][1] = 1.0 - 2.0 * (q->z * q->z + q->x * q->x);
	m[1][2] =       2.0 * (q->y * q->z - q->w * q->x);
	m[1][3] = 0.0;
	m[2][0] =       2.0 * (q->z * q->x - q->w * q->y);
	m[2][1] =       2.0 * (q->y * q->z + q->x * q->w);
	m[2][2] = 1.0 - 2.0 * (q->y * q->y + q->x * q->x);
	m[2][3] = 0.0;
	m[3][0] = 0.0;
	m[3][1] = 0.0;
	m[3][2] = 0.0;
	m[3][3] = 1.0;
}
```
